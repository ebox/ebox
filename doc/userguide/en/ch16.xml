<chapter id="ch-ca">
  <title>Certification Authority Management</title>
  <section id="sect-ca-overview">
    <title>Certification Authority Management</title>
    <para>
      You can get to Certification Authority Management at
      <menuchoice>
	<guimenu>Certificate Manager</guimenu>
      </menuchoice>
    </para>

    <para>
      The purpose of the Certification Authority Management is to
      allow the issue of certificates which can be used by another
      eBox's modules or external applications.
    </para>
    <para>
      The certificates are issued using a certificate authority's
      certificate which will be created with this module.
    </para>
  </section>
  <section id="sect-create-ca">				      
    <title>Creation of certification authority's certificate</title>
    <para>
      The first step, to use certificate is to issue the certificate
      of the certification authority. This certificate is needed to
      issue 'normal' certificates, so the other module's features would
      not be available until it exists.
    </para>
    
    <para>
       To issue it we will enter in the module's page and we will
       found a form for create the certification authority's
       certificate.
       The form will require the organisation's name and the number of
       day until certificate's expiration.
    </para>
    <warning>
      <para>
	When establishing certificate's duration we have to keep in
	mind that his expiration will also expire any certificate
	issued with it.
	This would stop any service which depends on the revoked certificates.
      </para> 
    </warning>
    
  </section>

  <section id="sect-create-certificate">
    <title>Certificates creation</title>
    <para>
      Once the certificate authority's certificate is in place, we be
      able to issue certificates with it.
    </para>
    <para>
      To issue them we will fill the form which appears in the top of
      the module's page.
      The necessary data are the certificate's common name and the
      number of days until expiration. This last value is limited by
      the duration of the certification authority's certificate.
    </para>
    <para>
      When the certificate has been issued it will appear in the
      certificate's list and it will be available to the eBox's
      modules which use certificates.
    </para>
  </section>
      
  <section id="sect-certificate-actions">
    <title>Actions upon certificates</title>
    <para>
      Though the certificate's list we can access to actions which can
      be done upon each certificate.
      The actions available are download files, revoke and renew.
    </para>

    <section id="sect-certificate-actions-download">
      <title>Download files</title>
      <para>
	Clicking in the download icon we will get a compressed
	archive which contains both the certificate and his public and
	private keys.
	In the case of certification authority's certificate, the
	private key is not supplied in the archive.
      </para>
    </section>
      
    <section id="sect-certificate-actions-revoke">
      <title>Revoke</title>
      <para>
	Though the revoke icon, we can revoke any certificate.
	After clicking it, we will found another form in which we can
	specify the revocation reason or cancel the action.
      </para>
      <para>
	Once a certificate is revoked, it will appear in the list but
	marked as revoked. However, it could not be used by other eBox
	modules or any external application.
      </para>
      <warning>
	<para>
	  In case the revoked certificate is the certification
	  authority's certificate, all certificates generated with the
	  certificate will be automatically revoked.
	</para>
      </warning>
    </section>

    <section id="sect-certificate-actions-renew">
      <title>Renew</title>
      <para>
	You can renew certificates using the renew icon. You will be
	asked the new certificate's duration.
      </para>
      <para>
	When renewing a certificate, first is revoked and then a new
	certificate with the same data is issued.
	The eBox modules will be automatically get the new certificate
	but you will need to supply it manually to external applications.
      </para>
      <warning>
	<para>
	  If you renew the certification authority's certificate all
	  the certificates created with it will be also automatically renewed.
	</para>
      </warning>
    </section>

  </section>


</chapter>