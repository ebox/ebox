<chapter id="ch-ca">
  <title>Gestión de la Autoridad de Certificados</title>
  <section id="sect-ca-overview">
    <title>Gestión de la Autoridad de Certificados</title>
    <para>
      Puedes acceder a la Gestión de la Autoridad de Certificados a
      través de 
      <menuchoice>
	<guimenu>Gestor de Certificados</guimenu>
      </menuchoice>
    </para>

    <para>
     El propósito del Gestor de Certificados es permitir la creación
     de certificados para su uso por otros módulos eBox o por aplicaciones externas. 
    </para>
    <para>
     Los certificados se crean usando una autoridad de certificación
     que es creada por el usuario.
    </para>
  </section>
  <section id="sect-create-ca">				       <!---->
    <title>Creación del certificado de la autoridad de certificación</title>
    <para>
      Para poder usar este módulo, el primer paso es crear la autoridad
      de certificación.La autoridad de certificación es necesaria para
      crear certificados; así que el resto de funcionalidad del módulo
      no estará disponible hasta que esta sea creada.
    </para>
    <para>
      Para crearla simplemente entraremos en la pagina del módulo y nos
      encontraremos ante el formulario para crear el certificado de la
      autoridad de certificación.
      Nos serán requeridos el nombre de la organización y el numero de
      días que transcurrirán antes de la expiración del certificado.
    </para>
    <warning>
      <para>
	A la hora de establecer la duración del certificado hay que tener
	en cuenta que su expiración revocara todos los certificados
	expedidos por la autoridad de certificación.
	Esto supondrá la parada de los servicios
	dependientes de la infraestructura de certificación hasta que
	sea restablecida.
      </para>						       <!---->
    </warning>
    
  </section>

  <section id="sect-create-certificate">
    <title>Creación de certificados </title>
    <para>
      Una vez creada la autoridad de certificación, seremos capaces de
      generar certificados con ella.
    </para>
    <para>
      Para generarlos tan solo tendremos que usar el formulario que
      aparece en la parte superior de la pagina de la autoridad de
      certificación.
      Los datos necesarios son el nombre común del certificado y los
      días que permanecerá activo antes de expirar. Este ultimo dato
      esta limitado por el hecho de que ningún certificado puede
      expirar mas tarde que el certificado de la autoridad de certificación.
    </para>
    <para>
      Una vez el certificado halla sido creado, aparecerá en la lista
      de certificados y estará disponible para los módulos de eBox que
      usen certificados.
    </para>
  </section>
      
  <section id="sect-certificate-actions">
    <title>Acciones sobre certificados</title>
    <para>
      A través de la lista de certificados podemos acceder a distintas
      acciones que realizar con ellas. 
      Las acciones disponibles son descargar, revocar y renovar.
    </para>

    <section id="sect-certificate-actions-download">
      <title>Descarga de certificado y claves</title>
      <para>
	Pulsando en el icono de descargar obtendremos un archivo
	comprimido en el que podemos encontrar tanto el certificado como sus
	claves publicas y privado.
	En el caso del certificado de la propia autoridad de
	certificación, la clave privada no se encontrara en el archivo.
      </para>
    </section>
      
    <section id="sect-certificate-actions-revoke">
      <title>Revocación de certificado</title>
      <para>
	Mediante el icono de revocar, podemos revocar cualquier
	certificado. 
	Tras pulsar en la opción correspondiente nos
	encontraremos en una pantalla donde podremos indicar la razón
	que nos ha llevado a revocarlo o cancelar la acción.
      </para>
      <para>
	Una vez revocado un certificado, continuara apareciendo en la
	lista pero marcado como revocado. Sin embargo, no podrá ser usado ni
	por eBox ni por ninguna aplicación externa.
      </para>
      <warning>
	<para>
	  Si el certificado revocado es el certificado de la autoridad
	  de certificación, todos los certificados generados con él serán
	  automáticamente revocados
	</para>
      </warning>
    </section>

    <section id="sect-certificate-actions-renew">
      <title>Renovación de certificado</title>
      <para>
	Es posible renovar un certificado usando el icono de
	renovar. 
	Para renovar un certificado, primero se revoca y a
	continuación se expide uno nuevo.
	Por este motivo cualquier servicio que use el certificado
	resultara detenido a renovar un certificado.
      </para>
      <warning>
	<para>
	  Si renovamos el certificado de la autoridad de certificación,
	  se renovaran automáticamente todos los certificados generados
	  con él.
	</para>
      </warning>
    </section>

  </section>


</chapter>